var writeUsLink=document.querySelector(".write-us-button"),backLinkPopup=document.querySelector(".back-link"),close=backLinkPopup.querySelector(".button-close"),form=backLinkPopup.querySelector(".back-link-form"),userName=backLinkPopup.querySelector("[name=user-name]"),email=backLinkPopup.querySelector("[name=user-email]"),text=backLinkPopup.querySelector("[name=user-comment]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("userName")}catch(e){isStorageSupport=!1}writeUsLink.addEventListener("click",function(e){e.preventDefault(),backLinkPopup.classList.add("modal-show"),storage?(userName.value=storage,email.focus()):userName.focus()}),close.addEventListener("click",function(e){e.preventDefault(),backLinkPopup.classList.remove("modal-show"),backLinkPopup.classList.remove("modal-error")}),form.addEventListener("submit",function(e){e.preventDefault(),userName.value&&email.value&&text.value?isStorageSupport&&local.Storage.setItem("name",name.value):(e.preventDefault(),backLinkPopup.classList.remove("modal-error"),backLinkPopup.offsetWidth=backLinkPopup.offsetWidth,backLinkPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),backLinkPopup.classList.contains("modal-show")&&(backLinkPopup.classList.remove("modal-show"),backLinkPopup.classList.remove("modal-error")))});
